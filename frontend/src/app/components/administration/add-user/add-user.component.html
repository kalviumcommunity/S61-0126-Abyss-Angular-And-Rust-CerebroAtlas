<app-sidebar [userStatus]="'Online'" [userName]="'Dr. Sarah'"></app-sidebar>

<div class="add-user-page">
  <header class="page-header">
    <div class="title-block">
      <h1>Add New User</h1>
      <p>Create a new system user account</p>
    </div>
    <div class="header-actions">
      <button class="btn-cancel" (click)="goBack()">Cancel</button>
      <button class="primary" (click)="save()">
        <span class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </span>
        Create User
      </button>
    </div>
  </header>

  <div class="card">
    <h2>Personal Information</h2>
    <div class="grid three">
      <label>First Name *<input [(ngModel)]="user.firstName" placeholder="Enter first name" /></label>
      <label>Last Name *<input [(ngModel)]="user.lastName" placeholder="Enter last name" /></label>
      <label>Email *<input [(ngModel)]="user.email" type="email" placeholder="user@ruralhealth.org" /></label>
      <label>Phone Number<input [(ngModel)]="user.phone" placeholder="+234 800 000 0000" /></label>
    </div>
  </div>

  <div class="card">
    <h2>Role & Department</h2>
    <div class="grid two">
      <label>Role *
        <select [(ngModel)]="user.role">
          <option value="">Select role</option>
          <option *ngFor="let r of roles">{{r}}</option>
        </select>
      </label>
      <label>Department *
        <select [(ngModel)]="user.department">
          <option value="">Select department</option>
          <option *ngFor="let d of departments">{{d}}</option>
        </select>
      </label>
      <label>Specialization<input [(ngModel)]="user.specialization" placeholder="e.g., General Medicine" /></label>
      <label>License Number<input [(ngModel)]="user.licenseNumber" placeholder="e.g., LIC-2024-001" /></label>
    </div>
  </div>

  <div class="card">
    <h2>Account Credentials</h2>
    <div class="grid two">
      <label>Username *<input [(ngModel)]="user.username" placeholder="Enter username" /></label>
      <label>Initial Password *<input type="password" [(ngModel)]="password" placeholder="Enter temporary password" /></label>
      <div *ngIf="errorMsg" style="color: #dc2626; margin-top: 0.5rem; font-size: 0.97rem;">{{errorMsg}}</div>
      <div *ngIf="successMsg" style="color: #059669; margin-top: 0.5rem; font-size: 0.97rem;">{{successMsg}}</div>
      <div *ngIf="isLoading" style="color: #0ea5e9; margin-top: 0.5rem; font-size: 0.97rem;">Creating user...</div>
    </div>
    <div class="info-note">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="12" y1="16" x2="12" y2="12"></line>
        <line x1="12" y1="8" x2="12.01" y2="8"></line>
      </svg>
      <p>User will be prompted to change password on first login</p>
    </div>
  </div>

  <div class="card">
    <h2>Account Status</h2>
    <div class="status-options">
      <label class="radio-label">
        <input type="radio" [(ngModel)]="user.status" value="active" />
        <span class="radio-custom"></span>
        Active - User can log in and access the system
      </label>
      <label class="radio-label">
        <input type="radio" [(ngModel)]="user.status" value="inactive" />
        <span class="radio-custom"></span>
        Inactive - User account is disabled
      </label>
    </div>
  </div>
</div>
